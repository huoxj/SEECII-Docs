# 文档Lab03-需求规格说明书

## **文档作者**

主要编写者：史创屹、董天诺

其他编写者：刘存玺、杨枫

## **文档修改历史**

| 修改人员 | 日期 | 修改原因 | 版本号 |
| --- | --- | --- | --- |
| 史创屹 | 2024-04-02 | 撰写初版 |  |
| 董天诺 | 2024-04-02 | 撰写用户界面模块 |  |
| 刘存玺 | 2024-04-03 | 润色文档 |  |
| 史创屹 | 2024-04-17 | 补充查看与修改用户信息功能 | |

## **引言**

### **1.1 目的**

本文档描述了 **Blue Whale 蓝鲸商城** 的功能需求和非功能需求。开发小组的软件系统实现与验证工作都以此文档为依据。

除特殊说明之外，本文档所包含的需求都是高优先级需求。

### **1.2 范围**

- 将要开发的软件产品为蓝鲸商城网购平台
- 软件专用于销售国货、有中国特色的**网购平台**，将服务对象拓展到全国顾客。

### **1.3 参考文献**

- 丁二玉 刘钦《软件工程与计算 卷2 软件开发的技术基础 》

## **总体描述**

### **2.1 项目前景**

- 随着国货热潮的兴起，消费者对国内品牌的需求将持续增长，特别是在新冠疫情等事件中展现出的国产品牌的责任与担当，进一步激发了消费者的购买热情。**Blue Whale 蓝鲸商城**能够满足消费者对国货的强烈需求，也能为国内品牌提供更多曝光和销售机会。
- 通过结合买菜平台的次日送达与网购平台的快递送达两种销售方式，能够更好地满足本地和全国消费者的不同需求。这种灵活的销售模式将使消费者更加方便地购买到他们喜爱的国货产品，提升用户体验，增加用户粘性。

### **2.1.1 背景与机遇**

- **背景**
  
    在疫情之后，国货品牌受到了更多关注和支持。消费者对国内品牌的信任度和认可度提高。
    
- **机遇**
    - 国货的热潮、消费者对国货的购买热情高涨，为项目带来无穷生命力。
    - 结合买菜平台的次日送达与网购平台的快递送达两种销售方式，能够灵活地满足本地和全国消费者的不同需求，提高用户满意度。
    - 目前尚未有专门针对国货销售的网购平台，商场可以抓住市场空缺的机会，在市场上占据先机，满足消费者对国货的需求。

### **2.1.2 业务需求**

- 用户可以登录、注册、查看与修改个人信息。
- 商场管理人员可以创建商店。
- 门店工作人员可以创建商品、添加库存。
- 用户可以查看商店信息，可以查看商店下的所有商品。
- 用户可以根据关键词搜索商品。

### **2.2 项目功能**

- 商品浏览和搜索功能：用户可以浏览各类国货产品，并通过关键词搜索、分类筛选等方式快速找到所需商品。
- 商品详情页：展示商品详细信息，包括价格、规格、图片、用户评价等，帮助用户做出购买决策。
- 用户账户管理功能：用户可以注册账户、登录、修改个人信息等。

### **2.3 用户特征**

| 用户角色 | 用户特征 |
| --- | --- |
| 门店工作人员 | 有线下销售渠道 |
| 电商 | 只做线上销售 |
| 顾客 | 有购物意向 |
| 经理 | 关心商场的经营情况 |

### **2.4 约束**

- 高阶语言要求：前端使用TypeScript+html+css进行开发，后端使用Java进行开发
- 安全性考虑：
    - 支付安全：软件涉及到的支付功能要有安全性保障
    - 账号安全：软件对用户的账号登录、注册信息要进行保护

### **2.5 假设与依赖**

- 无

## **详细需求描述**

### **3.1 对外接口需求**

### **3.1.1 用户界面**

- 用户界面以1920×1080的分辨率，100%缩放为标准设计。
- 界面字体、图标、按钮等控件均来自Element-plus组件库。
- GUI的布局标准与操作
    - 用户注册界面：界面顶部左对齐显示标题“创建一个新的账户”。界面上显示昵称、身份、注册手机号、地址、密码和确认密码输入框，其中身份输入框通过下拉菜单选择顾客、管理人员或商家。
        - 对于管理人员的注册界面，还需要显示邀请码输入框。
        - 对于商家的注册界面，还需要显示邀请码和所属商店输入框，所属商店输入框通过下拉菜单选择所属商店。

        界面底部显示“创建账户”和“去登录”按钮，其中“创建账户”按钮使用强调色。点击后可分别创建账户和跳转到登录界面。
    - 用户主页：页面左栏显示个人信息，用户可以查看自己身份、头像等个人信息，页面中间显示修改密码页面，显示密码和确认密码输入框。个人信息右上角显示“修改个人信息”按钮，使用强调色，点击后显示修改页面，可以修改昵称和手机号，右上角显示“更新”按钮，点击完成更新
    - 商店列表界面：界面顶部显示搜索框和搜索按钮，搜索按钮使用强调色，在搜索框中输入并点击搜索按钮可搜索商店。商店以矩形卡片方式顺序排列，宽度略小于界面宽度。对于每个卡片，左边显示正方形商店logo，右边从上到下依次显示商店名称、商店评分和商店简介，其中商店评分包括星级显示和数字显示。卡片中所有内容均左对齐。点击卡片可进入商店详情界面。页面右下角显示回顶部按钮，点击后即可回到页面顶部。
        - 对于商场管理员的商店列表界面，所有商店卡片上方显示“创建商店”按钮，宽度与一般商店卡片相同，点击后可进入创建商店详情界面。
    - 创建商店详情界面：界面顶部左对齐显示“创建商店”标题，下方从上到下依次显示商店名称和商店介绍输入框，以及商店logo上传框，可通过拖拽或点击上传图片，下方显示已上传的图片。界面右下角显示“确定创建”按钮，使用强调色，点击后，若输入的商店信息合法即可成功创建商店。
    - 商店详情界面：界面左侧边栏从上到下依次显示商店logo、商店名称、商店简介和商店评分，所有内容均居中。右侧主界面顶部显示搜索框和搜索按钮，搜索按钮使用强调色，在搜索框中输入并点击搜索按钮可搜索商店中的商品。下方左对齐显示标题“商品列表”。标题下方，商品以正方形卡片方式网格状排列。对于每个卡片，从上到下依次显示正方形商品缩略图、商品名称和商品价格，其中价格使用橙色加粗显示。卡片中所有内容均左对齐。点击卡片可进入商品详情界面。
        - 对于商家的商店详情界面，商品列表的第一位需要显示“添加商品”卡片，该卡片的大小与一般商品卡片相同，卡片上显示“添加商品”标题和加号图标。点击加号图标可打开右侧“创建商品”边栏。边栏中从上到下依次显示商品名称、商品简介、商品分类和商品库存输入框，以及商品展示图片上传框，可通过拖拽或点击上传图片，下方显示已上传的图片。所有商品卡片右下角还需要显示“更改库存”按钮，使用强调色，点击后弹出“更改库存”提示框，其中包含数字输入框和“生效更改”按钮。
    - 商品详情界面：界面顶部需要一个卡片显示商店详情界面中的商店信息。下方需要一个商品详情卡片，卡片左边显示商品的展示图片，以跑马灯的形式自动播放，也可点击图片左右两侧的箭头切换图片。卡片右边从上到下依次左对齐显示商品名称、商品简介、商品价格和“立即购买”按钮，按钮使用强调色。

### **3.1.2 硬件接口**

- 无

### **3.1.3 软件接口**

- JRE：运行后端的服务器需要安装Java运行环境
- 数据库：数据库使用Mysql

### **3.1.4 通信接口**

- 软件需要使用Web浏览器进行前端渲染
- 前端对服务器的请求是http请求
- 软件使用阿里云OSS服务实现文件存储

### **3.2 功能需求**

- **3.2.1 用户注册 / 登录**
    - **3.2.1.1 特性描述**
      
        用户进入应用若有账号则输入昵称、手机号等信息，点击“登录”即可登录账户；若无账号则可点击“去注册”按钮，输入信息，即可创建一个用户。
        
        优先级=高
        
    - **3.2.1.2 刺激 / 相应序列**
      
      
        | 刺激 | 响应 |
        | --- | --- |
        | 用户输入信息 | 系统读取输入信息，并判断是否合法 |
        | 用户点击“登录” | 系统进入相应用户界面 |
        | 用户点击“去注册” | 系统进入新用户注册界面 |
    - **3.2.1.3 相关功能需求**
      
      
        | 功能 | 详细需求描述 |
        | --- | --- |
        | 用户输入手机号等信息 | 系统允许用户输入手机号、密码等信息并保证格式合法 |
        | 用户确定账号身份 | 系统允许用户选择账号身份，对账号身份进行检测，给予用户不同的权限 |
        | 用户输入邀请码和所属商店 | 商家、商场管理人员等需依赖邀请码注册，以防止无关人员恶意注册，保证商店经营安全 |

- **3.2.2 用户查看 / 修改个人信息**
    - **3.2.2.1 特性描述**
      
        用户登陆后进入个人主页，可以查看、修改个人信息，也可以修改账户密码
        
        优先级=中
        
    - **3.2.2.2 刺激 / 相应序列**
      
      
        | 刺激 | 响应 |
        | --- | --- |
        | 用户登录 | 系统进入相应用户界面 |
        | 用户输入密码、确认密码 | 系统读取输入信息，并判断是否合法 |
        | 用户点击“更新” | 系统更新用户密码 |
        | 用户点击“修改个人信息” | 系统进入修改个人信息界面 |
        | 用户输入昵称、手机号 | 系统读取输入信息，并判断是否合法 |
        | 用户点击“更新” | 系统更新个人信息 |
    - **3.2.2.3 相关功能需求**
      
      
        | 功能 | 详细需求描述 |
        | --- | --- |
        | 用户登录后查看个人信息 | 系统监测用户账号身份，为用户展示昵称、手机号、头像等个人信息，提供修改个人信息、修改密码入口 |
        | 用户输入昵称、手机号等信息 | 系统允许用户输入昵称、手机号等信息并保证合法 |
        | 用户输入密码 | 系统允许用户输入密码并保证格式合法 |

- **3.2.3 创建商店**
    - **3.2.3.1 特性描述**
      
        当商场管理人员想要创建一个全新的商店时，可以在商店管理点击“创建商店”的按钮，录入商店的名字、描述、Logo后，即可创建一个新的商店。
        
        优先级=中
        
    - **3.2.3.2 刺激 / 响应序列**
      
      
        | 刺激 | 响应 |
        | --- | --- |
        | 商店管理人员点击“创建商店” | 系统进入创建商店页面 |
        | 商店管理人员输入商店相关信息 | 系统读取输入信息，并判断是否合法 |
    - **3.2.3.3 相关功能需求**
      
      
        | 功能 | 详细需求描述 |
        | --- | --- |
        | 商店相关人员创建商店 | 系统监测用户账号身份为商家，则提供“创建商店”按钮 |
        | 商家创建商店信息 | 系统允许商家输入商店名称、LOGO等信息，并保证商店信息合法。 |
- **3.2.4 商品管理**
    - **3.2.4.1 特性描述**
      
        商家进入自己的商店，可以点击“添加商品”按钮，输入商品名称、图片等信息，即可创建商品。在商品页可以修改商品信息
        
        优先级 = 中
        
    - **3.2.4.2 刺激 / 相应序列**
      
      
        | 刺激 | 响应 |
        | --- | --- |
        | 商店管理人员点击“添加商品”按钮 | 系统进入 |
        | 商店管理人员输入商品相关信息 | 系统读取输入信息，并判断是否合法 |
        | 商店管理人员上传商品图片 | 系统向后台传入图片信息 |
        | 商店管理人员点击“添加库存”按钮 | 系统为用户提供修改库存的接口 |
    - **3.2.4.3 相关功能需求**
      
      
        | 功能 | 详细需求描述 |
        | --- | --- |
        | 商家创建商品 | 系统监测用户身份为商家则允许用户创建商品。允许用户输入商品相关信息，并保证信息合法。允许用户上传商品图片。 |
        | 商家管理商品 | 系统系统监测用户身份为商家则允许用户修改商品信息，修改商品库存。 |
- **3.2.5 查看商店 / 商品**
    - **3.2.5.1 特性描述**
      
        所有用户可以查看商店列表, 点击列表中的商店进入商店详情界面。
        
        优先级 = 中
        
    - **3.2.5.2 刺激 / 相应序列**
      
      
        | 刺激 | 响应 |
        | --- | --- |
        | 用户登录 | 系统进入商店列表页 |
        | 用户点击“搜索” | 系统遍历商店列表，筛选出满足条件的商店 |
        | 用户点击商店 | 系统进入商店详情页，展示商品列表 |
        | 用户点击“搜索” | 系统遍历商品列表，筛选出满足条件的商品 |
        | 用户点击商品 | 系统进入商品详情页，展示商品详情 |
        | 用户点击“回顶部” | 系统返回商店 / 商品列表顶部 |
    - **3.2.5.3 相关功能需求**
      
      
        | 功能 | 详细需求描述 |
        | --- | --- |
        | 用户登录后查看商店 | 系统监测用户账号身份，为顾客展示商店列表；为商店管理人员提供创建商店入口。在商店列表中显示商店名称、LOGO、简介、评分等信息。 |
        | 用户查看商品 | 系统监测用户账号身份，为顾客展示商品列表；为商店管理人员提供添加商品入口。在商店详情页中显示商品名称、图片、价格、简介等信息。用户点击商品后进入商品详情页。 |
        | 用户搜索商店 / 商品 | 系统读取用户在搜索栏中的输入内容，遍历商店 / 商品列表，筛选出满足条件的商店 / 商品，展示列表。 |

### **3.3 非功能需求**

### **3.3.1 安全性**

系统需要具备较高的安全性，保护用户的个人信息和交易数据不被泄露或篡改，防范各类网络攻击。

### **3.3.2 可维护性**

项目需要考虑到后续的维护和扩展，因此需要遵循良好的代码规范和设计原则，确保代码的可读性、可维护性和可扩展性。

### **3.3.3 易用性**

考虑到用户可能使用不同的操作系统和设备访问软件，项目需要确保在主流操作系统（如Windows、macOS、iOS、Android等）上能够正常运行，并且在不同浏览器（如Chrome、Safari、Firefox等）上有良好的兼容性。

### **3.3.4 可靠性**

系统需要保持稳定的运行状态，避免因为软件bug、系统崩溃等原因导致系统不稳定或服务中断。

### **3.3.5 业务规则**

项目需要遵守相关的法律法规和行业标准，如知识产权、电子商务法、消费者权益保护法等，确保项目的合法性和合规性。

### **3.3.6 约束**

- **技术约束：** 项目要求使用特定的技术栈或框架进行开发，以保持一致性和统一性。
- **时间和预算约束：** 项目可能受限于时间和预算，需要在限定的时间和资源内完成开发、测试和上线，因此需要合理规划项目进度和资源分配。

### **3.4 数据需求**

### **3.4.1 数据定义**

- 用户（user）

| 字段 | 类型 | 备注 |
| --- | --- | --- |
| id | unique identifier & not null & primary key | 图片id |
| name | varchar(255) & not null | 用户名 |
| phone | varchar(255) & not null | 电话号码 |
| password | varchar(255) & not null | 密码 |
| role | varchar(255) & not null | 角色 |
| store_id | int | 所属商店id（仅对店员有效） |
| address | varchar(255) & not null | 地址 |
| create_time | datetime | 注册时间 |
- 邀请码(inviteCode)

| 字段 | 类型 | 备注 |
| --- | --- | --- |
| code | varchar(31) & not null & primary key | 邀请码字符串 |
| role | varchar(31) & not null | 角色 |
- 图片(image)

| 字段 | 类型 | 备注 |
| --- | --- | --- |
| id | unique identifier & not null & primary key | 图片id |
| url | varchar(255) & not null | 图片url |
| type | varchar(255) & not null | 图片所属位置类型，比如属于商店图标还是商品详情图 |
| parent_id | int & not null | 图片所属父亲id（如果是商店图标的话，父亲就是商店） |
| ind | int | 图片的编号 |
- 商店(store)

| 字段 | 类型 | 备注 |
| --- | --- | --- |
| id | unique identifier & not null & primary key | 商店id |
| name | varchar(31) & not null |  |
| description | varchar(255) | 商店简介 |
| rating | float | 商店商品平均评价（所有评价平均数） |
- 商品(item)

| 字段 | 类型 | 备注 |
| --- | --- | --- |
| id | unique identifier & not null & primary key | 商品id |
| name | varchar(31) & not null | 商品名称 |
| description | varchar(255) | 商店简介 |
| price | float & not null | 商品价格 |
| rating | float | 商品评价 |
| store_id | int | 归属商店的id |
| category | String  | 商品分类 |
| inventory | int | 商品库存 |

### **3.4.2 默认数据**

- 无

### **3.4.3 数据格式要求**

- 见数据定义

### **3.5 其他需求**

- 在系统运行过程中要保证OSS文件信息与数据库相关信息的同步
- 保证用户通过网络请求访问、修改数据库的权限正确